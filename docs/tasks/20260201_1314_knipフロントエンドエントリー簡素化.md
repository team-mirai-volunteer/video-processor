# knip フロントエンドエントリー簡素化

## 目的

開発者が未使用コードを正しく検出できるようにするため。

従来の設定では `src/app/**/*.{ts,tsx}` と `src/components/**/*.{ts,tsx}` を全てエントリーポイントとして扱っていたため、knipが未使用コンポーネントを検出できない状態だった。

## 変更内容

### Before

```json
"apps/webapp": {
  "entry": [
    "src/app/**/*.{ts,tsx}",
    "src/components/**/*.{ts,tsx}",
    "src/server/presentation/actions/**/*.ts"
  ],
  ...
}
```

### After

```json
"apps/webapp": {
  "entry": [
    "src/app/**/page.tsx",
    "src/app/**/layout.tsx",
    "src/app/**/route.ts"
  ],
  ...
}
```

## 設計根拠

Next.js App Routerでは、以下のファイルのみがフレームワークによって自動的にエントリーポイントとして認識される：

| ファイル | 用途 |
|---------|------|
| `page.tsx` | ページコンポーネント |
| `layout.tsx` | レイアウトコンポーネント |
| `route.ts` | API Routes |
| `loading.tsx` | ローディングUI |
| `error.tsx` | エラーUI |
| `not-found.tsx` | 404 UI |

このプロジェクトでは `loading.tsx`, `error.tsx`, `not-found.tsx` は現時点で使用していないため、エントリーに含めていない。

Server Actionsや他のコンポーネントは、これらのエントリーポイントから`import`されていれば自動的に依存関係として検出される。

## 効果

変更後、knipが正しく未使用コードを検出できるようになった：

- 未使用ファイル: 1件
- 未使用エクスポート: 88件

これらは実際に使われていないコードであり、必要に応じて整理可能。
